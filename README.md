:بسم الله والحمد لله والصلاة والسلام على رسول الله وآله وصحبه ومن والاه؛ وبعد


# Indroduction:
This is my second project as Data Analyst, about exploraing the Covid-19 Coronavirus Pandemic data in the time
priod between Jan-2020 and end of Apr-2021. This project is insparied by [this youtube playlist](/https://www.youtube.com/playlist?list=PLUaB-1hjhk8H48Pj32z4GZgGWyylqv85f/)
# Background:
The first human cases of COVID-19 were identified in Wuhan, the capital of the province of Hubei in China in December 2019. It spread to other areas of Asia, and then worldwide in early 2020. Govemeants began to implmending phased distribution plans of vaccienation 
at the end of 2020. In this project I've tried to answer the following question:
1. What is the global total number of people infected, and the number of deaths by infection,
   and what is the global total death percentage?.
2. What is the distribution of death count by continent?.
3. What is the maximum infection count and infection rate for every countery, and for every continent?.
4. The time series propagation of the infection?.
5. What is the vaccenation percentage for every country?.
# Tools I Used:
For this project, I harnessed the power of several key tools:
- **SQL:** The backbone of my analysis, allowing me to query the database and unearth critical insights.
- **PostgreSQL:** The chosen database management system, ideal for handling the job posting data.
- **Visual Studio Code:** My go-to for database management and executing SQL queries.
- **Tableau:** The visual tool I utilized to display my results.
- **Excel:** Didn't need it actually except for checking the data.
- **Git & GitHub:** Essential for version control and sharing my SQL scripts and analysis, ensuring collaboration and project tracking.
# The Analysis:

Each query for this project aimed at investigating specific aspects of the data. Here’s how I approached each question:

### 1. What is the global total number of people infected, and the number of deaths by infection, and what is the global total death percentage?:

To answer this question i used the sum function for each part of it, and for calculating "glable_death_percentage" exactily 
I've changed the data type for both "new_deaths" and "new_cases" from intger to numeric, and used Round function to limit 
the number of decimals.

```sql
Select 
    SUM(new_cases) as globle_cases, 
    SUM(cast(new_deaths as INT)) as globle_deaths, 
    ROUND((SUM(new_deaths::numeric)/SUM(New_Cases::numeric))*100, 3) as globle_Death_Percentage
From
    coviddeaths
where
    location = 'World';  -- world = all the countries + International people.

```

| Global Cases  | Global Deaths |  Global Death Percentage |
|---------------|---------------|--------------------------|
| 150,575,698   |   3,180,221   |          2.112           |
 

###  What is the distribution of death count by continent?:

This query is a little bit trickier, here's the sql code:

```sql
Select
    location, 
    SUM(new_deaths) as total_death_count
From
   CovidDeaths
Where
    continent is null 
    and location not in ('World', 'European Union')
Group by 
    location
order by
    total_death_count desc
```
I excluded the 'World' and 'European Union' because 'World' is include every continent, and 
'european union' is already included in 'Europe'.
The idea behind the where clause "continent is null" is: the column "location" contine in it countries and continent as well, and when the location is acually a continent the "continent" column is null, and in this query I want the continents, so the continent column should be null.


|    Location   | Total Death count |
|---------------|-------------------|
|    Europe     |    1,016,750      |
| North America |     847,942       |
| South America |     672,415       |
|     Asia      |     520,269       |
|    Africa     |     121,784       |
|    Oceania    |      1,046        |
| International |        15         |

International mean: the people who don't belonge to any countery.

### 3. What is the maximum infection count and infection rate for every countery?:

The Maximum Infection Count and Infection Rate for every countery in the interval
Jan-2020 / Apr-2021 is given by:

```sql
Select
    Location,
    Population,
    MAX(total_cases) as highest_infection_count,
    round(Max((total_cases/population::numeric))*100, 3) as highest_infection_rate
From
    CovidDeaths
WHERE
    continent is NOT NULL
    AND total_cases is NOT NULL
Group by
    Location,
    Population
order by
    highest_infection_rate desc;
```

Here's the result:  

![Worldwide Infection Rate Distribution (Jan-2020 / Apr-2021)](assets\3_Worldwide_Infection_Rate_Distribution.png)
*World map describing the distribution of infection count, and infection rate; This map is generated by tableau and enhanced by chatgpt*

For Distribution by continent:

```sql
Select
    Location,
    Population,
    MAX(total_cases) as highest_infection_count,
    round(Max((total_cases/population::numeric))*100, 3) as highest_infection_rate
From
    CovidDeaths
WHERE
    continent is NULL -- this is crucial difference.
    AND total_cases is NOT NULL
    AND location not in ('World' ,'European Union')
Group by
    Location,
    Population
order by
    highest_infection_rate desc;
```

| Location       | Population      |  Highest Infection Count   |  Highest Infection Rate |
|----------------|-----------------|----------------------------|-------------------------|
| International  |     null        | 721                        |          null           |
| North America  | 592,072,204     | 37,529,488                 | 6.339                   |
| Europe         | 748,680,069     | 44,863,478                 | 5.992                   |
| South America  | 430,759,772     | 24,878,216                 | 5.775                   |
| Asia           | 4,639,847,425   | 39,526,308                 | 0.852                   |
| Africa         | 1,340,598,113   | 4,557,699                  | 0.340                   |
| Oceania        | 42,677,809      | 43,570                     | 0.102                   |


### 4. The time series propagation of the infection?:

For Time Series Of Infection Rate for every country, in the interval Jan-2020 / Apr-2021,
I applied the same query I used in query-3, with only difference: adding the date, and aggregate by it.

```sql
Select
    Location,
    Population,
    date,
    MAX(total_cases::numeric) as highest_infection_count,
    round(Max((total_cases/population::numeric))*100, 3) as highest_infection_rate
From
    CovidDeaths
WHERE
    continent is NOT NULL
    AND total_cases is NOT NULL
Group by
    Location,
    Population,
    date
order by
    highest_infection_rate desc;
```

![Global Time Series Infection Rate](assets\4_Global_TimeSeries_Infection_Rate.png)

I'm Interested in Iraq and its neighboring:

![Infection Rate In Iraq And Neighboring Countries](assets\4_Infection_Rate_In_Iraq_And_Neighboring_Countries.jpg)
*This visualization is generated by Tableau, and its enhance by 
 AI tool "Lest's enhance"*


### 5. What is the vaccenation percentage for every country:

The vaccenation percentage for every country in interval 1/1/2020 - 30/4/2021 is given by
the fallowing code:

```sql
WITH vaccenation_data AS
    (
    SELECT
        dea.location,
        dea.date,
        population,
        new_vaccinations,
        sum(new_vaccinations) OVER(PARTITION BY dea.location ORDER BY dea.location, dea.date) AS rolling_vaccinations_sum
    FROM coviddeaths AS dea
    JOIN covidvaccinations  AS vac
        ON dea.date = vac.date
        AND dea.location = vac.location
    WHERE
        dea.continent IS NOT NULL
    ORDER BY
        dea.location, dea.date
    )



SELECT *,
    round(((rolling_vaccinations_sum::numeric)/(population::numeric))*100, 3) AS vaccenation_percentage
FROM
    vaccenation_data;
```

I Used the window function:

```SQL 
sum(new_vaccinations) OVER(PARTITION BY dea.location ORDER BY dea.location, dea.date)
```

to perform a calculation across a set of rows that are related to each country separately, so don't Overlap with one another, and without collapsing the result into a single output row like aggregate functions do, that is a running total.
By creating the term "rolling_vaccenation_sum" I can calculate the vaccenation_percentage devolpment with time for each countery separately.


chack the [full dashboard](https://public.tableau.com/app/profile/haider.mahmood4207/viz/Covidproject_17462778114610/Dashboard1)

# Conclusions:

- At the end of project's period every 100 confirmed cases globally, approximately 2.11 people died.
- Europe has the highest recorded death toll, making up nearly 32% of the global total deaths.
- North America and South America also report very high death tolls, accounting for a significant share.
- Asia, while having a much larger population than the Americas, shows a comparatively lower death count—this 
  could reflect differences in reporting, interventions, or demographic factors.
- Africa and Oceania show relatively low death counts, which may result from lower case counts, younger population
 structures, or underreporting.
- These countries reported the highest proportions of their population infected: Andorra, Montenegro, Czechia, San Marino, Slovenia These high rates often reflect smaller populations, where even moderate absolute numbers result in large per-capita figures.
- Some larger countries in population also had notably high infection percentages, as: United States, Israel, Brazil, France, United Kingdom which indicate sustained and widespread transmission over time.


